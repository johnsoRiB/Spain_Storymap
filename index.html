<!DOCTYPE html>
<html lang="en">
<head>
    <title>Spain 2013!</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--meta data for sharing links on Facebook-->
    <meta property="og:title" content="Spain 20131" />
    <meta property="og:url" content="https://cdn.rawgit.com/johnsoRiB/storymap_lab3_geog472/7588a931/index.html" />
    <meta property="og:description" content="This is an map story of our trip to Spain!" />
    <meta property="og:image" content="img/spainflag.png" />

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />

    <!--animation-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">

    <!--facebook and info icons-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!--use a better font for this web map-->
    <link href='https://fonts.googleapis.com/css?family=Lobster' rel='stylesheet' type='text/css'>


    <link rel="stylesheet" type="text/css" href="css/storymap.css">
    <!--add favicon for the web page-->
    <link rel="shortcut icon" href="img/spainflag.ico" type="image/x-icon">
    <style>
        .end-background-img {
            background: url(img/spainflag.png) no-repeat center center fixed;
        }
    </style>

    <!--add required libraries-->
    <script src="https://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.min.js"></script>

    <!--story map plugin-->
    <script src="js/storymap.js"></script>

    <!-- bing map -->
    <script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=Promise"></script>
    <script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=Promise"></script>

    <!-- mini globle map -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/1.6.19/topojson.min.js"></script>

</head>
<body>
<div class="container-fluid">
    <div class="row">
        <div class="col-sm-6 col-md-4 main">
            <section data-scene="overview">
                <video class="background-fullscreen-setting" playsinline autoplay muted loop>
                    <source src="assets/30spainvideo.mp4" type="video/mp4">
                </video>
                <div class= "background-fullscreen-setting text-responsive text-center" >
                    <h3>Our Spanish Travels</h3>
                    <h3><small style="color: rgba(255,255,255,0.95)">This Web Map introduces the major cities of Oregon using a storytelling map library.</small></h3>
                </div>
            </section>
            <section data-scene="Seattle">
                <h2>Seattle</h2>
                <h5>Day - 0</h5>
            </section>

            <section data-scene="NewYork">
                <h2>New York</h2>
                <h5>Day - 0</h5>
            </section>

            <section data-scene="Madrid1">
                <h2>Madrid</h2>
                <h5>Day - 1</h5>
            </section>

            <section data-scene="Madrid1_2">
                <h2>Madrid</h2>
                <h5>Day - 1</h5>
            </section>

            <section data-scene="Madrid2">
                <h2>Madrid</h2>
                <h5>Day - 2</h5>
            </section>

            <section data-scene="Madrid2_1">
                <h2>Madrid</h2>
                <h5>Day - 2</h5>
                <img src="img/spainflag.png" class="img-responsive" alt="responsive image" alt-text="the flag of oregon">
            </section>

            <section data-scene="Madrid2_2">
                <h2>Madrid</h2>
                <h5>Day - 2</h5>
            </section>

            <section data-scene="Madrid2_3">
                <h2>Madrid</h2>
                <h5>Day - 2</h5>
            </section>

            <section data-scene="Toledo">
                <h2>Toledo</h2>
                <h5>Day - 3</h5>
            </section>

            <section data-scene="Granada1">
                <h2>Granada</h2>
                <h5>Day - 3</h5>
            </section>

            <section data-scene="Granada2">
                <h2>Granada</h2>
                <h5>Day - 4</h5>
            </section>

            <section data-scene="Seville1">
                <h2>Seville</h2>
                <h5>Day - 4</h5>
            </section>

            <section data-scene="Seville2">
                <h2>Seville</h2>
                <h5>Day - 5</h5>
            </section>

            <section data-scene="Ronda">
                <h2>Ronda</h2>
                <h5>Day - 5</h5>
            </section>

            <section data-scene="CostaDelSol_Malaga1">
                <h2>Costa Del Sol - Malaga</h2>
                <h5>Day - 5</h5>
            </section>

            <section data-scene="Cetua">
                <h2>Cetua</h2>
                <h5>Day - 6</h5>
            </section>

            <section data-scene="Tetouan">
                <h2>Tetouan</h2>
                <h5>Day - 6</h5>
            </section>

            <section data-scene="CostaDelSol_Malaga2">
                <h2>Costa Del Sol - Malaga</h2>
                <h5>Day - 7</h5>
            </section>

            <section data-scene="Paris">
                <h2>Paris</h2>
                <h5>Day - 7</h5>
            </section>

            <section data-scene="Seattle2">
                <h2>Seattle</h2>
                <h5>Day - 7</h5>
            </section>

            <section data-scene="end">
                <div class= "end-background-img background-fullscreen-setting text-center" >
                    <br/>
                    <h3 class="">Thanks for watching!!!</h3>
                    <h3><small style="color: rgba(169, 169, 169, 0.8)">Download Storymap.js from http://github.com/jakobzhao/storymap</small></h3>
                </div>
            </section>

        </div>
        <!--map div-->
        <div id="map" class="col-sm-6 col-md-8 sidebar"></div>
    </div>
    <!--add a scrolling down arrow-->
    <div class="animated zoomIn infinite glyphicon glyphicon-menu-down arrow-down"></div>
    <!--add a navigation bar-->
    <div class="navwidget text-center"></div>

    <!--add loading page -->
    <div class="glyphicon glyphicon-refresh loader"></div>

    <dl>
        <dt>
            <!--facebook icon-->
            <a class="fa fa-facebook-square btn" href="https://facebook.com/sharer.php?u=http://cdn.rawgit.com/jakobzhao/storymap/master/fullpage.html" target="_blank"></a>
        </dt>
        <dt>
            <!--facebook icon-->
            <a class="fa fa-git-square btn" href="https://github.com/jakobzhao/storymap" style="top:40px" target="_blank"></a>
        </dt>
        <dt>
            <!--info icon-->
            <i class="fa fa-file-text-o btn" style="top:60px" data-toggle="modal" data-target="#info-modal"></i>
        </dt>
    </dl>

    <!--the info page-->
    <div class="modal fade" id="info-modal" role="dialog">
        <div class="modal-dialog modal-md">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">About</h4>
                </div>
                <div class="modal-body">
                    <p>This is a web map of our trip to Spain in 2013. The story map library is derived from the storymap plugin for leaflet at <a>http://atlefren.github.io/storymap/</a>, and its functionality relies on both leaflet and Boostrap.</p>
                    <p><b>storymap.js</b> | Released Date: 02/20/2017 | Version: 2.1 | MIT License </p>
                    <p><b>Author: Riley Johnson</b></p>
                    <p>The context about Spanish cities and sites was collected from Wikipedia.</p>
                    <p>Special thanks to Sra. Boyd-Atkinson for blogging our wonderful trip, writing down the memories we only remember in our head!</p>
                    <p>The <a src="https://www.youtube.com/watch?v=hyarRrboIFQ">background video</a> on the front page was clipped from Youtube. </p>
                    <p>The favicon image was acquired from <a>https://images.google.com</a></p>
                    <p>This story map uses geospatial data from mapbox, Microsoft Bing map, and Open Street Maps</p>
                </div>
            </div>
        </div>
    </div>

</div>

<!-- main javascript -->
<script type="text/javascript">

    /**
     * Created by jakob on 4/20/2017.
     */
        // Create Legend Contents in html format
    var county_legend ='<i style="background: black; opacity: 0.5"></i><p><b>Counties</b></p>';
    var corvallis_admin_legend = '<i style="background: orange; opacity: 0.5"></i><p><b>Corvallis</b></p>';
    var forest_legend = '<i style="background: green; opacity: 0.5"></i><p><b>Forest</b></p>';

    // For each layer, the first variable is the layer, the second is the legend. The layer variable can be any kinds of layers that leaflet.js supports.
    // var layers = {
    //      'layer1': [layer1, legend1]
    //      'layer2': [layer2, legend2]
    //      ...
    // }


    var layers = {
        'layer 1': [ L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiamFrb2J6aGFvIiwiYSI6ImNpcms2YWsyMzAwMmtmbG5icTFxZ3ZkdncifQ.P9MBej1xacybKcDN_jehvw', {id: 'mapbox.streets-satellite'})],
        //'layer 6': [ L.geoJson.ajax('assets/route1.geojson', county_legend)],
        //'layer 7': [ L.geoJson.ajax('assets/Route2.geojson', county_legend)],
        //'layer 8': [ L.geoJson.ajax('assets/Route3.geojson', county_legend)]
    };

    var scenes = {
        overview: {lat: 44, lng: -123.5, zoom: 7, position: 'fullpage', name: 'Cover Page'},
        Seattle1: {lat: 47.4460883, lng: -122.3372359, zoom: 14, name: 'Seattle', layers: ['layer 1']},
        NewYork: {lat: 40.6771841, lng: -74.0187421, zoom: 11, name: 'NewYork', layers: ['layer 1']},
        Madrid1: {lat: 40.4378698, lng: -3.819622, zoom: 11, name: 'Madrid', layers: ['layer 1']},
        Madrid1_2: {lat: 40.4378698, lng: -3.819622, zoom: 11, name: 'Madrid', layers: ['layer 1']},
        Madrid2: {lat: 40.4378698, lng: -3.819622, zoom: 11, name: 'Madrid', layers: ['layer 1']},
        Madrid2_1: {lat: 40.4378698, lng: -3.819622, zoom: 11, name: 'Madrid', layers: ['layer 1']},
        Madrid2_2: {lat: 40.4378698, lng: -3.819622, zoom: 11, name: 'Madrid', layers: ['layer 1']},
        Madrid2_3: {lat: 40.4378698, lng: -3.819622, zoom: 11, name: 'Madrid', layers: ['layer 1']},
        Toledo: {lat: 40.4378698, lng: -3.819622, zoom: 11, name: 'Madrid', layers: ['layer 1']},
        Granada1: {lat: 40.4378698, lng: -3.819622, zoom: 11, name: 'Madrid', layers: ['layer 1']},
        Granada2: {lat: 40.4378698, lng: -3.819622, zoom: 11, name: 'Madrid', layers: ['layer 1']},
        Seville1: {lat: 40.4378698, lng: -3.819622, zoom: 11, name: 'Madrid', layers: ['layer 1']},
        Seville2: {lat: 40.4378698, lng: -3.819622, zoom: 11, name: 'Madrid', layers: ['layer 1']},
        Ronda: {lat: 40.4378698, lng: -3.819622, zoom: 11, name: 'Madrid', layers: ['layer 1']},
        CostaDelSol_Malaga1: {lat: 40.4378698, lng: -3.819622, zoom: 11, name: 'Madrid', layers: ['layer 1']},
        Cetua: {lat: 40.4378698, lng: -3.819622, zoom: 11, name: 'Madrid', layers: ['layer 1']},
        Tetouan: {lat: 40.4378698, lng: -3.819622, zoom: 11, name: 'Madrid', layers: ['layer 1']},
        CostaDelSol_Malaga2: {lat: 40.4378698, lng: -3.819622, zoom: 11, name: 'Madrid', layers: ['layer 1']},
        Paris: {lat: 40.4378698, lng: -3.819622, zoom: 11, name: 'Madrid', layers: ['layer 1']},
        Seattle2: {lat: 40.4378698, lng: -3.819622, zoom: 11, name: 'Madrid', layers: ['layer 1']},
        end: {name: 'The End', position: '100%'}
    };

    $('.main').storymap({
        scenes: scenes,
        layers: layers,
        legend: true, // if you do not want a legend feature, you can simply not define the createLegend function.
        scale: false,
        navwidget: true,

        createMap: function () {
            // create a map in the "map" div, set the view to a given place and zoom
            var map = L.map('map', {zoomControl: false, scrollWheelZoom: false}).setView([44, -120], 7);

            // add an base map, which can be either OSM, mapbox, tilelayer, wmslayer or those designed by yourself.
            L.tileLayer('http://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png').addTo(map);

            // create a mini globe as the overview map control.
            //var miniMap = new L.Control.GlobeMiniMap({
            //    marker:'red',
            //    position: 'bottomright'
            //}).addTo(map);

            // hidden the credits, but show in the about page.
            $(".leaflet-control-attribution").css("display", "none");

            return map;
        }
    });
</script>
</body>
</html>